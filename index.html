<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Urban Management</title>

  <link rel="stylesheet" href="https://js.arcgis.com/4.29/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.29/"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      font-family: Arial, sans-serif;
    }

    header {
      height: 60px;
      background: #0b1220;
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 30px;
    }

    header nav button {
      background: none;
      border: none;
      color: #cbd5e1;
      margin-left: 20px;
      cursor: pointer;
      font-size: 14px;
    }

    header nav button.active {
      color: #38bdf8;
      font-weight: bold;
    }

    #app {
      height: calc(100% - 60px);
      position: relative;
    }

    #viewDiv {
      height: 100%;
      width: 100%;
    }

    .overlay {
      position: absolute;
      top: 20px;
      right: 20px;
      background: white;
      padding: 16px;
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: none;
    }

    .overlay.visible {
      display: block;
    }
  </style>
</head>

<body>

<header>
  <div>Urban Management</div>
  <nav>
    <button class="tab active" data-panel="none">Map</button>
    <button class="tab" data-panel="traffic">Traffic</button>
    <button class="tab" data-panel="environment">Environment</button>
  </nav>
</header>

<div id="app">
  <div id="viewDiv"></div>

  <div id="traffic" class="overlay">
    Traffic analysis content
  </div>

  <div id="environment" class="overlay">
    Environmental analysis content
  </div>
</div>

<script>
  // ArcGIS Map
  require([
    "esri/Map",
    "esri/views/SceneView"
  ], function(Map, SceneView) {

    const map = new Map({
      basemap: "gray-vector",
      ground: "world-elevation"
    });

    const view = new SceneView({
      container: "viewDiv",
      map: map,
      camera: {
        position: {
          latitude: 59.3293,
          longitude: 18.0686,
          z: 3000
        },
        tilt: 65
      }
    });
  });

  // Tabs
  const tabs = document.querySelectorAll(".tab");
  const panels = document.querySelectorAll(".overlay");

  tabs.forEach(tab => {
    tab.addEventListener("click", () => {
      tabs.forEach(t => t.classList.remove("active"));
      tab.classList.add("active");

      panels.forEach(p => p.classList.remove("visible"));

      const panelId = tab.dataset.panel;
      if (panelId !== "none") {
        document.getElementById(panelId).classList.add("visible");
      }
    });
  });
</script>

</body>
</html>
